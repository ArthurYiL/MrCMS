@using MrCMS.Services
@model MrCMS.Website.WidgetDisplayInfo
@inject IWidgetUIService UIService

@foreach (var widget in Model.Widgets)
{
    var content = UIService.GetContent(Component, widget.Id, async helper => await helper.InvokeAsync("Widget", new { widget.Id }));
    @await content
}
